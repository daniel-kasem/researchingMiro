<!DOCTYPE html>
<html lang="en">

<head>
  <script type="text/javascript" src="https://miro.com/app/static/sdk.1.1.js"></script>
  <script type="text/javascript">
    miro.onReady(() => {
      miro.initialize({
        extensionPoints: {
          bottomBar: {
            title: 'Asteroid sticker',
            svgIcon: '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"/>',
            onClick: async () => {
              //alert('Hi!')	
              newAsteroidSticker()
            }
          }
        }
      })
    })

    async function newAsteroidSticker() {
      let sticker = (await miro.board.widgets.create({
        "type": "image",
        "url": "https://daniel-kasem.github.io/researchingMiro/images/asteroidPostIt.png"
      }))[0]
      let textBox = (await miro.board.widgets.create({
        "type": "shape",
        "text": "Type here :O",
        "x": sticker.x,
        "y": sticker.y,
        "width": sticker.bounds.width,
        "height": sticker.bounds.height,
        "style": {
          "fontFamily": "Permanent",
          "fontSize": 14,
          // allowed values:
          //  "rectangle", "circle", "triangle", "rounded_rectangle", "rhombus", 
          //  "callout", "parallelogram", "star", "arrow", "arrow_left", "pentagon", 
          //  "hexagon", "octagon", "trapeze", "predefined_process",
          //  "arrow_left_right", "cloud", "brace_left", "brace_right", "cross", "barrel"
          "shapeType": "rectangle", // default: "rectangle"
          // allowed values: "center", "right", "left"
          "textAlign": "center", // default: center
          // allowed values: "middle", "bottom", "top"
          "textAlignVertical": "middle", // default: "middle"
          "textColor": "#1a1a1a" // default: "#1a1a1a"
        }
      }))[0]
      //await miro.board.viewport.zoomToObject(sticker)
      await miro.board.viewport.zoomToObject(textBox)
    }
    //https://daniel-kasem.github.io/researchingMiro/main.html
    //https://daniel-kasem.github.io/researchingMiro/images/asteroidPostIt.png
  </script>
</head>

<body>
  <span>Confirm changes to main.html - 30</span>
</body>

</html>
